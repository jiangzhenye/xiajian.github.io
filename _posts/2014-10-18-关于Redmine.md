---
layout: post
title: 关于Redmine
---

## 前提
----
其实，10月18号那天，根本没有写任何一个字。只是，一直在看着动漫而已。那天中午，吃了一顿非常难吃的午饭，是在易捷买的，12块9，非常的难吃。

## 问题

尝试安装了一下Redmine的开发环境，一些步骤记录如下： 

* 设置datebase.yml中的mysql的数据库名和密码
* bundle
* `mysql -u root -p`进入mysql控制台，创建数据库`redmine_development(create database redmine_development`)
* 运行rake db:migrate, 恢复数据库
* `rake generate_secret_token` 生成会话token，其中`generate_session_store`已被遗弃

至此，基本的环境已经搭建完成了。

测试注册，创建用户：jhqy2011@sina.com ，密码：8个1。

出现的问题： 

*  安装rmagick失败，解决方案：`sudo apt-get install imagemagick libmagickwand-dev`
*  运行rails server和rake db:migrate出错，原因是缺乏数据库。`mysql -u root -p`进入控制台，创建数据库`redmine_development(create database redmine_development`)。
*  注册完成之后，发现一个问题：**Your account was created and is now pending administrator approval.** 寻找管理员账户，后来，在doc目录中的install中找到管理员的用户名和密码：admin-admin。


        use redmine_development;
        show tables;
        显示的表名如下: 
        +-------------------------------------+
        | Tables_in_redmine_development       |
        +-------------------------------------+
        | attachments                         |
        | auth_sources                        |
        | boards                              |
        | changes                             |
        | changeset_parents                   |
        | changesets                          |
        | changesets_issues                   |
        | comments                            |
        | custom_fields                       |
        | custom_fields_projects              |
        | custom_fields_roles                 |``
        | custom_fields_trackers              |
        | custom_values                       |
        | documents                           |
        | enabled_modules                     |
        | enumerations                        |
        | groups_users                        |
        | issue_categories                    |
        | issue_relations                     |
        | issue_statuses                      |
        | issues                              |
        | journal_details                     |
        | journals                            |
        | member_roles                        |
        | members                             |
        | messages                            |
        | news                                |
        | open_id_authentication_associations |
        | open_id_authentication_nonces       |
        | projects                            |
        | projects_trackers                   |
        | queries                             |
        | queries_roles                       |
        | repositories                        |
        | roles                               |
        | schema_migrations                   |
        | settings                            |
        | time_entries                        |
        | tokens                              |
        | trackers                            |
        | user_preferences                    |
        | users                               |
        | versions                            |
        | watchers                            |
        | wiki_content_versions               |
        | wiki_contents                       |
        | wiki_pages                          |
        | wiki_redirects                      |
        | wikis                               |
        | workflows                           |
        +-------------------------------------+

备注： 使用.ruby-version和.ruby-gemset控制环境真是相当的方便。为了能够同时研究Redmine和Gitlab的源代码，但又要隔离彼此的gem包，使用rvm的gemsets处理，真是相当的便捷。
