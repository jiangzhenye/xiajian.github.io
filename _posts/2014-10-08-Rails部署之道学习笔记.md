---
layout: post
title: Rails部署之道学习笔记
---

## 缘起
----

昨天，手贱。买了本62块的《Rails部署之道》。思前想后，都觉得特别贵，尤其还是一本电子书。此时，就运用逆向思维，通过看完，将钱挣回来。

## 前提条件

Web服务器结构？Chef和Capistrano，第一第二部分

第一部分涉及内容： ruby最佳安装，Monit，安全措施，UFW，用户及公钥，Redis，Memcached

第二部分涉及内容：Capistrano和Chef的作用，Unicorn，Sidekiq后台作业(Resque的竞争对手)。


## cap 

cap 是部署软件的通用解决方案，最近学了两招: 

```
cap staging [deploy|production]
```

如果只是修改了一两个问题，没必要全部重新部署一下，所以需要使用一个特殊的方法: 

```sh
cap staging deploy:upload FILES=app/views/social/index.html.erb
cap staging deploy:restart
```

这样速度会快很多，测试部署时使用的时间也会很快。


## 后记

自买回来之后，一直没时间去看。
